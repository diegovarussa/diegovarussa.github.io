import{a3 as N,r as E,be as Re,q as te,bf as Ue,bg as je,c as h,bh as ze,b0 as Ge,m as ve,b1 as We,au as Ye,h as x,ba as He,k as fe,C as ge,D as O,E as X,F as s,H as o,$ as _e,bi as ie,Z as b,a8 as P,a0 as U,a5 as F,a9 as y,ah as M,a1 as Ke,a2 as j,a4 as Xe,al as Ze,am as H,L as Je,an as et,ao as ee,ap as oe,as as pe,s as re,at as le,aa as tt,bj as at,A as he,M as nt,bk as ot,ai as rt,aj as lt,a as Ee,o as st,aC as it,b2 as ut,j as ct,bl as ye,b8 as se,bm as be,bn as dt,bo as mt,G as vt,a6 as ft,a7 as gt,w as ht,R as _t}from"./index.27916069.js";import{Q as ae}from"./QImg.cb06a441.js";import{c as pt,a as K,b as B,Q as yt}from"./selection.f7747c77.js";import{a as A}from"./QItemLabel.2efb22ae.js";import{Q as bt,a as wt}from"./QToolbar.7e424616.js";import{Q as xt}from"./QHeader.ea3284f4.js";import{g as we,s as xe,Q as Ce,a as Pe}from"./QDrawer.17135200.js";import{a as Ct,b as Pt}from"./QLayout.e56dffa1.js";import{d as Qe,u as St,a as Se,_ as kt}from"./CommentList.1b86433e.js";import{u as $t}from"./use-meta.1de1a3e5.js";import{C as Z}from"./index.2c306793.js";import{u as It,a as At,b as qt}from"./use-fullscreen.1201748c.js";var ke;const z=typeof window!="undefined",Ot=e=>typeof e=="function";z&&((ke=window==null?void 0:window.navigator)==null?void 0:ke.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Me(e){return typeof e=="function"?e():N(e)}function Tt(e){return e}function ue(e){return Ue()?(je(e),!0):!1}function Dt(e,t=1e3,n={}){const{immediate:i=!0,immediateCallback:l=!1}=n;let a=null;const r=E(!1);function d(){a&&(clearInterval(a),a=null)}function g(){r.value=!1,d()}function v(){const m=Me(t);m<=0||(r.value=!0,l&&e(),d(),a=setInterval(e,m))}if(i&&z&&v(),Re(t)||Ot(t)){const m=te(t,()=>{r.value&&z&&v()});ue(m)}return ue(g),{isActive:r,pause:g,resume:v}}const Nt=z?window:void 0;z&&window.document;z&&window.navigator;z&&window.location;const ce=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},de="__vueuse_ssr_handlers__";ce[de]=ce[de]||{};ce[de];function Et(e,t={}){const{immediate:n=!0,window:i=Nt}=t,l=E(!1);let a=0,r=null;function d(m){if(!l.value||!i)return;const w=m-a;e({delta:w,timestamp:m}),a=m,r=i.requestAnimationFrame(d)}function g(){!l.value&&i&&(l.value=!0,r=i.requestAnimationFrame(d))}function v(){l.value=!1,r!=null&&i&&(i.cancelAnimationFrame(r),r=null)}return n&&g(),ue(v),{isActive:ze(l),pause:v,resume:g}}var Qt=Object.defineProperty,$e=Object.getOwnPropertySymbols,Mt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,Ie=(e,t,n)=>t in e?Qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vt=(e,t)=>{for(var n in t||(t={}))Mt.call(t,n)&&Ie(e,n,t[n]);if($e)for(var n of $e(t))Ft.call(t,n)&&Ie(e,n,t[n]);return e};function Bt(e={}){const{controls:t=!1,interval:n="requestAnimationFrame"}=e,i=E(new Date),l=()=>i.value=new Date,a=n==="requestAnimationFrame"?Et(l,{immediate:!0}):Dt(l,n,{immediate:!0});return t?Vt({now:i},a):i}var Ae;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Ae||(Ae={}));var Lt=Object.defineProperty,ne=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,qe=(e,t,n)=>t in e?Lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rt=(e,t)=>{for(var n in t||(t={}))Fe.call(t,n)&&qe(e,n,t[n]);if(ne)for(var n of ne(t))Ve.call(t,n)&&qe(e,n,t[n]);return e},Ut=(e,t)=>{var n={};for(var i in e)Fe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&ne)for(var i of ne(e))t.indexOf(i)<0&&Ve.call(e,i)&&(n[i]=e[i]);return n};const jt=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:1/0,value:31536e6,name:"year"}],zt={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""},Gt=e=>e.toISOString().slice(0,10);function Wt(e,t={}){const{controls:n=!1,updateInterval:i=3e4}=t,l=Bt({interval:i,controls:!0}),{now:a}=l,r=Ut(l,["now"]),d=h(()=>Yt(new Date(Me(e)),t,N(a.value)));return n?Rt({timeAgo:d},r):d}function Yt(e,t={},n=Date.now()){var i;const{max:l,messages:a=zt,fullDateFormatter:r=Gt,units:d=jt,showSecond:g=!1,rounding:v="round"}=t,m=typeof v=="number"?f=>+f.toFixed(v):Math[v],w=+n-+e,c=Math.abs(w);function _(f,C){return m(Math.abs(f)/C.value)}function S(f,C){const q=_(f,C),k=f>0,$=T(C.name,q,k);return T(k?"past":"future",$,k)}function T(f,C,q){const k=a[f];return typeof k=="function"?k(C,q):k.replace("{0}",C.toString())}if(c<6e4&&!g)return a.justNow;if(typeof l=="number"&&c>l)return r(new Date(e));if(typeof l=="string"){const f=(i=d.find(C=>C.name===l))==null?void 0:i.max;if(f&&c>f)return r(new Date(e))}for(const[f,C]of d.entries()){if(_(w,C)<=0&&d[f-1])return S(w,d[f-1]);if(c<C.max)return S(w,C)}return a.invalid}var Ht=Object.defineProperty,Oe=Object.getOwnPropertySymbols,Kt=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable,Te=(e,t,n)=>t in e?Ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zt=(e,t)=>{for(var n in t||(t={}))Kt.call(t,n)&&Te(e,n,t[n]);if(Oe)for(var n of Oe(t))Xt.call(t,n)&&Te(e,n,t[n]);return e};const Jt={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Zt({linear:Tt},Jt);const ea={...Ge,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},me=50,Be=2*me,Le=Be*Math.PI,ta=Math.round(Le*1e3)/1e3;var aa=ve({name:"QCircularProgress",props:{...ea,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=fe(),i=We(e),l=h(()=>{const c=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-c}deg)`:`rotate3d(0, 0, 1, ${c-90}deg)`}}),a=h(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),r=h(()=>Be/(1-e.thickness/2)),d=h(()=>`${r.value/2} ${r.value/2} ${r.value} ${r.value}`),g=h(()=>Ye(e.value,e.min,e.max)),v=h(()=>Le*(1-(g.value-e.min)/(e.max-e.min))),m=h(()=>e.thickness/2*r.value);function w({thickness:c,offset:_,color:S,cls:T,rounded:f}){return x("circle",{class:"q-circular-progress__"+T+(S!==void 0?` text-${S}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":c,"stroke-dasharray":ta,"stroke-dashoffset":_,"stroke-linecap":f,cx:r.value,cy:r.value,r:me})}return()=>{const c=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&c.push(x("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:me-m.value/2,cx:r.value,cy:r.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&c.push(w({cls:"track",thickness:m.value,offset:0,color:e.trackColor})),c.push(w({cls:"circle",thickness:m.value,offset:v.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const _=[x("svg",{class:"q-circular-progress__svg",style:l.value,viewBox:d.value,"aria-hidden":"true"},c)];return e.showValue===!0&&_.push(x("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[x("div",g.value)])),x("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:g.value},He(t.internal,_))}}});const na={class:"q-ml-sm"},oa={key:0},ra=b("strong",{class:"text-secondary"},"Console: ",-1),la=b("br",null,null,-1),sa={key:1},ia=b("strong",{class:"text-secondary"},"Developer: ",-1),ua=b("br",null,null,-1),ca={key:2},da=b("strong",{class:"text-secondary"},"Publisher: ",-1),ma=b("br",null,null,-1),va={key:3},fa=b("strong",{class:"text-secondary"},"Released: ",-1),ga=b("br",null,null,-1),ha={key:4},_a=b("strong",{class:"text-secondary"},"Genre: ",-1),pa=b("br",null,null,-1),ya={key:5},ba=b("strong",{class:"text-secondary"},"Achievements: ",-1),wa=b("br",null,null,-1),xa={key:6},Ca=b("strong",{class:"text-secondary"},"Achievements Awarded: ",-1),Pa=b("br",null,null,-1),Sa={key:0,class:"q-ml-md q-mt-sm text-center"},ka=b("strong",{class:"text-secondary"},"Completion",-1),$a=b("br",null,null,-1),Ia=ge({__name:"GameInfo",props:{game:null},setup(e){return(t,n)=>(O(),X(Xe,null,{default:s(()=>[o(_e,null,{default:s(()=>[o(ie,{square:""},{default:s(()=>[o(ae,{ratio:1/1,src:`${N(Z).MEDIA_URL}${e.game.imageIcon}`},null,8,["src"])]),_:1}),b("strong",na,P(e.game.title),1)]),_:1}),o(U,{inset:""}),o(_e,null,{default:s(()=>[e.game.consoleName?(O(),F("div",oa,[ra,y(P(e.game.consoleName),1),la])):M("",!0),e.game.developer?(O(),F("div",sa,[ia,y(P(e.game.developer),1),ua])):M("",!0),e.game.publisher?(O(),F("div",ca,[da,y(P(e.game.publisher),1),ma])):M("",!0),e.game.released?(O(),F("div",va,[fa,y(P(N(Qe).formatDate(e.game.released,"MMMM YYYY")),1),ga])):M("",!0),e.game.genre?(O(),F("div",ha,[_a,y(P(e.game.genre),1),pa])):M("",!0),e.game.numAchievements?(O(),F("div",ya,[ba,y(P(e.game.numAchievements),1),wa])):M("",!0),e.game.numAwardedToUserHardcore?(O(),F("div",xa,[Ca,y(P(e.game.numAwardedToUserHardcore),1),Pa])):M("",!0)]),_:1}),o(U,{inset:""}),e.game.achievements.length?(O(),F("div",Sa,[ka,$a,o(aa,{"show-value":"","font-size":"12px",value:e.game.userCompletionHardcore,size:"5em",thickness:.33,color:"secondary","track-color":"grey-4"},{default:s(()=>[y(P(e.game.userCompletionHardcore)+"% ",1)]),_:1},8,["value","thickness"])])):M("",!0),e.game.forumTopicId?(O(),X(Ke,{key:1},{default:s(()=>[o(j,{"data-cy":"forum-topic",color:"secondary",class:"full-width",outline:"",label:"Forum Topic","icon-right":"open_in_new",target:"_blank",href:`https://retroachievements.org/viewtopic.php?t=${e.game.forumTopicId}`},null,8,["href"])]),_:1})):M("",!0)]),_:1}))}});function Aa(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,i)=>{const l=parseFloat(n);l&&(t[i]=l)}),t}var qa=Ze({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:i}){if(i.mouse!==!0&&H.has.touch!==!0)return;const l=i.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:Aa(n),direction:we(i),noop:Je,mouseStart(r){xe(r,a)&&et(r)&&(ee(a,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(r,!0))},touchStart(r){if(xe(r,a)){const d=r.target;ee(a,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","notPassiveCapture"],[d,"touchend","end","notPassiveCapture"]]),a.start(r)}},start(r,d){H.is.firefox===!0&&oe(e,!0);const g=pe(r);a.event={x:g.left,y:g.top,time:Date.now(),mouse:d===!0,dir:!1}},move(r){if(a.event===void 0)return;if(a.event.dir!==!1){re(r);return}const d=Date.now()-a.event.time;if(d===0)return;const g=pe(r),v=g.left-a.event.x,m=Math.abs(v),w=g.top-a.event.y,c=Math.abs(w);if(a.event.mouse!==!0){if(m<a.sensitivity[1]&&c<a.sensitivity[1]){a.end(r);return}}else if(m<a.sensitivity[2]&&c<a.sensitivity[2])return;const _=m/d,S=c/d;a.direction.vertical===!0&&m<c&&m<100&&S>a.sensitivity[0]&&(a.event.dir=w<0?"up":"down"),a.direction.horizontal===!0&&m>c&&c<100&&_>a.sensitivity[0]&&(a.event.dir=v<0?"left":"right"),a.direction.up===!0&&m<c&&w<0&&m<100&&S>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&m<c&&w>0&&m<100&&S>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&m>c&&v<0&&c<100&&_>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&m>c&&v>0&&c<100&&_>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(re(r),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),pt(),a.styleCleanup=T=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const f=()=>{document.body.classList.remove("no-pointer-events--children")};T===!0?setTimeout(f,50):f()}),a.handler({evt:r,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:d,distance:{x:m,y:c}})):a.end(r)},end(r){a.event!==void 0&&(le(a,"temp"),H.is.firefox===!0&&oe(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),r!==void 0&&a.event.dir!==!1&&re(r),a.event=void 0)}};if(e.__qtouchswipe=a,i.mouse===!0){const r=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";ee(a,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}H.has.touch===!0&&ee(a,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=we(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(le(t,"main"),le(t,"temp"),H.is.firefox===!0&&oe(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function Oa(){const e=new Map;return{getCache:function(t,n){return e[t]===void 0?e[t]=n:e[t]},getCacheWithFn:function(t,n){return e[t]===void 0?e[t]=n():e[t]}}}const Ta={name:{required:!0},disable:Boolean},De={setup(e,{slots:t}){return()=>x("div",{class:"q-panel scroll",role:"tabpanel"},he(t.default))}},Da={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Na=["update:modelValue","beforeTransition","transition"];function Ea(){const{props:e,emit:t,proxy:n}=fe(),{getCacheWithFn:i}=Oa();let l,a;const r=E(null),d=E(null);function g(u){const p=e.vertical===!0?"up":"left";V((n.$q.lang.rtl===!0?-1:1)*(u.direction===p?1:-1))}const v=h(()=>[[qa,g,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),m=h(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),w=h(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),c=h(()=>`--q-transition-duration: ${e.transitionDuration}ms`),_=h(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),S=h(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),T=h(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);te(()=>e.modelValue,(u,p)=>{const D=k(u)===!0?$(u):-1;a!==!0&&G(D===-1?0:D<$(p)?-1:1),r.value!==D&&(r.value=D,t("beforeTransition",u,p),nt(()=>{t("transition",u,p)}))});function f(){V(1)}function C(){V(-1)}function q(u){t("update:modelValue",u)}function k(u){return u!=null&&u!==""}function $(u){return l.findIndex(p=>p.props.name===u&&p.props.disable!==""&&p.props.disable!==!0)}function Q(){return l.filter(u=>u.props.disable!==""&&u.props.disable!==!0)}function G(u){const p=u!==0&&e.animated===!0&&r.value!==-1?"q-transition--"+(u===-1?m.value:w.value):null;d.value!==p&&(d.value=p)}function V(u,p=r.value){let D=p+u;for(;D>-1&&D<l.length;){const R=l[D];if(R!==void 0&&R.props.disable!==""&&R.props.disable!==!0){G(u),a=!0,t("update:modelValue",R.props.name),setTimeout(()=>{a=!1});return}D+=u}e.infinite===!0&&l.length>0&&p!==-1&&p!==l.length&&V(u,u===-1?l.length:-1)}function W(){const u=$(e.modelValue);return r.value!==u&&(r.value=u),!0}function J(){const u=k(e.modelValue)===!0&&W()&&l[r.value];return e.keepAlive===!0?[x(ot,S.value,[x(T.value===!0?i(_.value,()=>({...De,name:_.value})):De,{key:_.value,style:c.value},()=>u)])]:[x("div",{class:"q-panel scroll",style:c.value,key:_.value,role:"tabpanel"},[u])]}function I(){if(l.length!==0)return e.animated===!0?[x(tt,{name:d.value},J)]:J()}function L(u){return l=at(he(u.default,[])).filter(p=>p.props!==null&&p.props.slot===void 0&&k(p.props.name)===!0),l.length}function Y(){return l}return Object.assign(n,{next:f,previous:C,goTo:q}),{panelIndex:r,panelDirectives:v,updatePanelsList:L,updatePanelIndex:W,getPanelContent:I,getEnabledPanels:Q,getPanels:Y,isValidPanelName:k,keepAliveProps:S,needsUniqueKeepAliveWrapper:T,goToPanelByOffset:V,goToPanel:q,nextPanel:f,previousPanel:C}}var Ne=ve({name:"QCarouselSlide",props:{...Ta,imgSrc:String},setup(e,{slots:t}){const n=h(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>x("div",{class:"q-carousel__slide",style:n.value},he(t.default))}});const Qa=["top","right","bottom","left"],Ma=["regular","flat","outline","push","unelevated"];var Fa=ve({name:"QCarousel",props:{...rt,...Da,...It,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Ma.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Qa.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...At,...Na],setup(e,{slots:t}){const{proxy:{$q:n}}=fe(),i=lt(e,n);let l=null,a;const{updatePanelsList:r,getPanelContent:d,panelDirectives:g,goToPanel:v,previousPanel:m,nextPanel:w,getEnabledPanels:c,panelIndex:_}=Ea(),{inFullscreen:S}=qt(),T=h(()=>S.value!==!0&&e.height!==void 0?{height:e.height}:{}),f=h(()=>e.vertical===!0?"vertical":"horizontal"),C=h(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(S.value===!0?" fullscreen":"")+(i.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${f.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${Q.value}`:"")),q=h(()=>{const I=[e.prevIcon||n.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||n.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&n.lang.rtl===!0?I.reverse():I}),k=h(()=>e.navigationIcon||n.iconSet.carousel.navigationIcon),$=h(()=>e.navigationActiveIcon||k.value),Q=h(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),G=h(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));te(()=>e.modelValue,()=>{e.autoplay&&V()}),te(()=>e.autoplay,I=>{I?V():l!==null&&(clearTimeout(l),l=null)});function V(){const I=ut(e.autoplay)===!0?Math.abs(e.autoplay):5e3;l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,I>=0?w():m()},I)}Ee(()=>{e.autoplay&&V()}),st(()=>{l!==null&&clearTimeout(l)});function W(I,L){return x("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${I} q-carousel__navigation--${Q.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[x("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},c().map(L))])}function J(){const I=[];if(e.navigation===!0){const L=t["navigation-icon"]!==void 0?t["navigation-icon"]:u=>x(j,{key:"nav"+u.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${u.active===!0?"":"in"}active`,...u.btnProps,onClick:u.onClick}),Y=a-1;I.push(W("buttons",(u,p)=>{const D=u.props.name,R=_.value===p;return L({index:p,maxIndex:Y,name:D,active:R,btnProps:{icon:R===!0?$.value:k.value,size:"sm",...G.value},onClick:()=>{v(D)}})}))}else if(e.thumbnails===!0){const L=e.controlColor!==void 0?` text-${e.controlColor}`:"";I.push(W("thumbnails",Y=>{const u=Y.props;return x("img",{key:"tmb#"+u.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${u.name===e.modelValue?"":"in"}active`+L,src:u.imgSrc||u["img-src"],onClick:()=>{v(u.name)}})}))}return e.arrows===!0&&_.value>=0&&((e.infinite===!0||_.value>0)&&I.push(x("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${f.value} absolute flex flex-center`},[x(j,{icon:q.value[0],...G.value,onClick:m})])),(e.infinite===!0||_.value<a-1)&&I.push(x("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${f.value} absolute flex flex-center`},[x(j,{icon:q.value[1],...G.value,onClick:w})]))),ct(t.control,I)}return()=>(a=r(t),x("div",{class:C.value,style:T.value},[it("div",{class:"q-carousel__slides-container"},d(),"sl-cont",e.swipeable,()=>g.value)].concat(J())))}});const Va=b("div",{class:"absolute-bottom text-center"}," Title Screen ",-1),Ba=b("div",{class:"absolute-bottom text-center"}," In Game Screen ",-1),La=ge({__name:"GameCarousel",props:{game:null},setup(e){const t=E(1);return(n,i)=>e.game?(O(),X(Fa,{key:0,animated:"",modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=l=>t.value=l),arrows:"",infinite:"",autoplay:2500,height:"auto"},{default:s(()=>[o(Ne,{name:1},{default:s(()=>[o(ae,{ratio:4/3,src:`${N(Z).MEDIA_URL}/${e.game.imageTitle}`},{default:s(()=>[Va]),_:1},8,["src"])]),_:1}),o(Ne,{name:2},{default:s(()=>[o(ae,{ratio:4/3,src:`${N(Z).MEDIA_URL}/${e.game.imageInGame}`},{default:s(()=>[Ba]),_:1},8,["src"])]),_:1})]),_:1},8,["modelValue"])):M("",!0)}}),Ra=["src"],Ua={class:"text-secondary shadow-1"},ja={class:"float-right"},za={key:0},on=ge({__name:"RetroLayout",async setup(e){let t,n;$t({title:"RA Manager"});const i=dt(),l=mt(),a=St(1e3*60),r=E(ye.getItem("retroAchievementsCredentials")),d=E(!1),g=E(!1),v=E(([t,n]=se(()=>a.getUserSummary()),t=await t,n(),t));function m(){d.value=!d.value}function w(){g.value=!g.value}const c=h(()=>i.params.id?Number(i.params.id):v.value.recentlyPlayed[0].id),_=E(([t,n]=se(()=>a.getGameUserProgress(c.value)),t=await t,n(),t));be(async()=>{_.value=await a.getGameUserProgress(c.value)});const S=E(([t,n]=se(()=>Se(Number(c.value))),t=await t,n(),t));be(async()=>{S.value=await Se(Number(c.value))});const T=h(()=>S.value.comments.get(c.value.toString()));function f(){ye.remove("retroAchievementsCredentials"),l.push("/login")}return Ee(()=>{l.push(`/retro/game/${c.value}`)}),(C,q)=>{const k=vt("router-view");return O(),X(Ct,{view:"hHh lpR fFf"},{default:s(()=>[o(xt,{reveal:"",elevated:"",class:"bg-dark text-white"},{default:s(()=>[o(bt,{class:"glossy"},{default:s(()=>[o(j,{class:"q-mr-sm",dense:"",flat:"",round:"",icon:"menu",onClick:m}),o(U,{dark:"",vertical:"",inset:""}),o(K,null,{default:s(()=>[o(B,{avatar:""},{default:s(()=>[o(ie,{rounded:""},{default:s(()=>[o(ae,{src:`${N(Z).MEDIA_URL}${v.value.userPic}`},null,8,["src"])]),_:1})]),_:1}),o(B,null,{default:s(()=>[o(A,null,{default:s(()=>[y(P(r.value.username),1)]),_:1}),o(A,{caption:"",class:"mobile-hide"},{default:s(()=>[y(" Member since: "+P(N(Qe).formatDate(v.value.memberSince,"MMM YYYY")),1)]),_:1})]),_:1})]),_:1}),o(K,{class:"mobile-hide"},{default:s(()=>[o(B,null,{default:s(()=>[o(A,null,{default:s(()=>[y("Global Rank:")]),_:1}),o(A,null,{default:s(()=>[y("Difficult Points:")]),_:1})]),_:1}),o(B,{side:""},{default:s(()=>[o(A,{class:"text-secondary"},{default:s(()=>[y(P(v.value.rank),1)]),_:1}),o(A,{class:"text-secondary"},{default:s(()=>[y(P(v.value.totalTruePoints),1)]),_:1})]),_:1})]),_:1}),o(K,{class:"mobile-hide"},{default:s(()=>[o(B,null,{default:s(()=>[o(A,null,{default:s(()=>[y("Softcore Points:")]),_:1}),o(A,null,{default:s(()=>[y("Hardcore Points:")]),_:1})]),_:1}),o(B,{side:""},{default:s(()=>[o(A,{class:"text-secondary"},{default:s(()=>[y(P(v.value.totalSoftcorePoints),1)]),_:1}),o(A,{class:"text-secondary"},{default:s(()=>[y(P(v.value.totalPoints),1)]),_:1})]),_:1})]),_:1}),o(wt),o(K,{class:"mobile-hide col-4"},{default:s(()=>[o(B,null,{default:s(()=>[o(A,null,{default:s(()=>[y("Last Activity:")]),_:1}),o(A,{caption:""},{default:s(()=>[y(P(v.value.richPresenceMsg),1)]),_:1})]),_:1})]),_:1}),o(j,{class:"q-mr-sm",icon:"logout",onClick:f,label:"Logout"}),o(U,{dark:"",vertical:"",inset:""}),o(j,{class:"q-ml-sm",dense:"",flat:"",round:"",icon:"menu",onClick:w})]),_:1})]),_:1}),o(Pe,{"show-if-above":"",modelValue:d.value,"onUpdate:modelValue":q[0]||(q[0]=$=>d.value=$),side:"left",bordered:""},{default:s(()=>[o(Ce,{class:"fit"},{default:s(()=>[o(yt,{bordered:"",separator:"",class:""},{default:s(()=>{var $;return[o(A,{header:""},{default:s(()=>[y("Recently Played Games:")]),_:1}),(O(!0),F(gt,null,ft(($=v.value)==null?void 0:$.recentlyPlayed,Q=>ht((O(),X(K,{clickable:"",key:Q.id,to:`/retro/game/${Q.id}`},{default:s(()=>[o(B,{avatar:""},{default:s(()=>[o(ie,{rounded:"",class:"shadow-1"},{default:s(()=>[b("img",{src:`${N(Z).MEDIA_URL}${Q.imageIcon}`},null,8,Ra)]),_:2},1024)]),_:2},1024),o(B,null,{default:s(()=>[o(A,null,{default:s(()=>[y(P(Q.title),1)]),_:2},1024),o(A,{caption:""},{default:s(()=>[b("span",Ua,P(Q.consoleName),1),b("span",ja,P(N(Wt)(Q.lastPlayed).value),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])),[[_t]])),128))]}),_:1})]),_:1})]),_:1},8,["modelValue"]),o(Pe,{"show-if-above":"",modelValue:g.value,"onUpdate:modelValue":q[1]||(q[1]=$=>g.value=$),side:"right",bordered:""},{default:s(()=>[o(Ce,{class:"fit"},{default:s(()=>{var $;return[o(Ia,{game:_.value},null,8,["game"]),o(U),o(La,{game:_.value},null,8,["game"]),o(U),($=N(T))!=null&&$.length?(O(),F("div",za,[o(A,{header:"",class:"text-white"},{default:s(()=>[y("Game Comments:")]),_:1}),o(U),o(kt,{comments:N(T),style:{width:"296px","overflow-wrap":"break-word"},class:"wrap"},null,8,["comments"])])):M("",!0)]}),_:1})]),_:1},8,["modelValue"]),o(Pt,null,{default:s(()=>[o(k)]),_:1})]),_:1})}}});export{on as default};
