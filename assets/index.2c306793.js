var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},dist={},Client$2={},HtmlParser$1={},CommentItem$1={};Object.defineProperty(CommentItem$1,"__esModule",{value:!0});class CommentItem{constructor(e,t,i){this.user=e,this.date=t,this.comment=i}}CommentItem$1.default=CommentItem;var lib={};Object.defineProperty(lib,"__esModule",{value:!0});var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},isBrowser=typeof window!="undefined"&&typeof window.document!="undefined",isNode=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null,isWebWorker=(typeof self=="undefined"?"undefined":_typeof(self))==="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",isJsDom=typeof window!="undefined"&&window.name==="nodejs"||typeof navigator!="undefined"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),isDeno=typeof Deno!="undefined"&&typeof Deno.version!="undefined"&&typeof Deno.version.deno!="undefined";lib.isBrowser=isBrowser;lib.isWebWorker=isWebWorker;lib.isNode=isNode;lib.isJsDom=isJsDom;lib.isDeno=isDeno;var __importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(HtmlParser$1,"__esModule",{value:!0});const CommentItem_1=__importDefault$b(CommentItem$1),browser_or_node_1$1=lib;class HtmlParser{static parsePageComments(html){let comments=[],document;if(browser_or_node_1$1.isBrowser)document=new DOMParser().parseFromString(html,"text/html");else{const JSDOM=eval("require")("jsdom").JSDOM;let parser=new JSDOM(html);document=parser.window.document}const feedTable=document.querySelector("#feed"),rows=feedTable.rows;for(const r in rows){const e=rows[r];if(e.className&&e.className.indexOf("system")===-1){const t=e.querySelectorAll("div"),i=t[0].querySelectorAll(":scope > span"),s=i[0].textContent.trim(),a=new Date(i[1].textContent.trim()),n=t[1].textContent.trim();comments.push(new CommentItem_1.default(s,a,n))}}return comments}}HtmlParser$1.default=HtmlParser;var AchievementCount$1={};Object.defineProperty(AchievementCount$1,"__esModule",{value:!0});class AchievementCount{constructor(e){this.achievementIds=[],this.gameId=Number(e.GameId);for(let t=0;t<e.AchievementIDs.length;t++)this.achievementIds.push(Number(e.AchievementIDs[t]))}}AchievementCount$1.default=AchievementCount;var AchievementDistribution={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.FLAG_FILTER=r.TYPE_FILTER=void 0,function(t){t[t.ALL=0]="ALL",t[t.HARDCORE_ONLY=1]="HARDCORE_ONLY"}(r.TYPE_FILTER||(r.TYPE_FILTER={})),function(t){t[t.CORE_ACHIEVEMENTS=3]="CORE_ACHIEVEMENTS",t[t.UNOFFICIAL=5]="UNOFFICIAL"}(r.FLAG_FILTER||(r.FLAG_FILTER={}));class e{constructor(i){this.distribution=i}}r.default=e})(AchievementDistribution);var AchievementOfTheWeek$1={},AchievementUnlocks$1={},Console$1={};Object.defineProperty(Console$1,"__esModule",{value:!0});class Console{constructor(e){this.id=Number(e.ID),this.name=e.Name}}Console$1.default=Console;var UnlockAchievement$1={},Achievement$1={};Object.defineProperty(Achievement$1,"__esModule",{value:!0});class Achievement{constructor(e){this.id=Number(e.ID),this.title=e.Title,this.description=e.Description,this.points=Number(e.Points),this.author=e.Author,this.isMissable=this.title.includes("[m]")}}Achievement$1.default=Achievement;var __importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(UnlockAchievement$1,"__esModule",{value:!0});const Achievement_1$1=__importDefault$a(Achievement$1);class UnlockAchievement extends Achievement_1$1.default{constructor(e){super(e),this.trueRatio=Number(e.TrueRatio),this.dateModified=new Date(e.DateModified),this.dateCreated=new Date(e.DateCreated)}}UnlockAchievement$1.default=UnlockAchievement;var __importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(AchievementUnlocks$1,"__esModule",{value:!0});const Console_1$1=__importDefault$9(Console$1),UnlockAchievement_1$1=__importDefault$9(UnlockAchievement$1);class AchievementUnlocks{constructor(e){this.unlocks=[],this.achievement=new UnlockAchievement_1$1.default(e.Achievement),e.Console.Name=e.Console.Title,this.console=new Console_1$1.default(e.Console),this.game={id:Number(e.Game.ID),title:e.Game.Title};for(let t=0;t<e.Unlocks.length;t++)this.unlocks.push({user:e.Unlocks[t].User,raPoints:Number(e.Unlocks[t].RAPoints),dateAwarded:new Date(e.Unlocks[t].DateAwarded),hardcoreMode:Boolean(Number(e.Unlocks[t].HardcoreMode))});this.totalPlayers=Number(e.TotalPlayers),this.unlocksCount=Number(e.UnlocksCount)}}AchievementUnlocks$1.default=AchievementUnlocks;var __importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(AchievementOfTheWeek$1,"__esModule",{value:!0});const AchievementUnlocks_1$1=__importDefault$8(AchievementUnlocks$1);class AchievementOfTheWeek extends AchievementUnlocks_1$1.default{constructor(e){super(e),this.forumTopic={id:Number(e.ForumTopic.ID)},this.startAt=new Date(e.StartAt)}}AchievementOfTheWeek$1.default=AchievementOfTheWeek;var ActiveClaim$1={},Claim$1={};Object.defineProperty(Claim$1,"__esModule",{value:!0});class Claim{constructor(e){this.user=e.User,this.setType=Number(e.SetType),this.claimType=Number(e.ClaimType),this.created=new Date(e.Created),this.expiration=new Date(e.Expiration)}}Claim$1.default=Claim;var __importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ActiveClaim$1,"__esModule",{value:!0});const Claim_1$1=__importDefault$7(Claim$1);class ActiveClaim extends Claim_1$1.default{constructor(e){e.Expiration=e.DoneTime,super(e),this.id=Number(e.ID),this.gameIcon=e.GameIcon,this.gameId=Number(e.GameID),this.gameTitle=e.GameTitle,this.consoleName=e.ConsoleName,this.status=Number(e.Status),this.extension=Number(e.Extension),this.special=Number(e.Special),this.doneTime=new Date(e.DoneTime),this.updated=new Date(e.Updated),this.minutesLeft=Number(e.MinutesLeft)}}ActiveClaim$1.default=ActiveClaim;var Game$1={};Object.defineProperty(Game$1,"__esModule",{value:!0});class Game{constructor(e){this.id=Number(e.ID),this.title=e.Title,this.gameTitle=e.GameTitle,this.consoleID=Number(e.ConsoleID),this.consoleName=e.ConsoleName,this.console=e.Console,this.forumTopicId=Number(e.ForumTopicID),this.flags=e.Flags===null?0:Number(e.Flags),this.gameIcon=e.GameIcon,this.imageIcon=e.ImageIcon,this.imageTitle=e.ImageTitle,this.imageInGame=e.ImageIngame,this.imageBoxArt=e.ImageBoxArt,this.publisher=e.Publisher,this.developer=e.Developer,this.genre=e.Genre,this.released=new Date(e.Released)}}Game$1.default=Game;var GameCompleted$1={};Object.defineProperty(GameCompleted$1,"__esModule",{value:!0});class GameCompleted{constructor(e){this.id=Number(e.GameID),this.title=e.Title,this.consoleID=Number(e.ConsoleID),this.consoleName=e.ConsoleName,this.imageIcon=e.ImageIcon,this.maxPossible=Number(e.MaxPossible),this.numAwarded=Number(e.NumAwarded),this.percentageWon=Number(e.PctWon),this.hardcoreMode=Boolean(Number(e.HardcoreMode))}}GameCompleted$1.default=GameCompleted;var GameExtended$1={},GameAchievement$1={},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(GameAchievement$1,"__esModule",{value:!0});const UnlockAchievement_1=__importDefault$6(UnlockAchievement$1);class GameAchievement extends UnlockAchievement_1.default{constructor(e){super(e),this.numAwarded=Number(e.NumAwarded),this.numAwardedHardcore=Number(e.NumAwardedHardcore),this.badgeName=e.BadgeName,this.displayOrder=Number(e.DisplayOrder),this.memAddr=e.MemAddr,this.dateEarned=e.DateEarned?new Date(e.DateEarned):null,this.dateEarnedHardcore=e.DateEarned?new Date(e.DateEarned):null}}GameAchievement$1.default=GameAchievement;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(GameExtended$1,"__esModule",{value:!0});const GameAchievement_1$1=__importDefault$5(GameAchievement$1),Claim_1=__importDefault$5(Claim$1),Game_1$2=__importDefault$5(Game$1);class GameExtended extends Game_1$2.default{constructor(e){super(e),this.claims=[],this.achievements=[],this.isFinal=Boolean(e.IsFinal),this.numAchievements=Number(e.NumAchievements),this.numDistinctPlayersCasual=Number(e.NumDistinctPlayersCasual),this.numDistinctPlayersHardcore=Number(e.NumDistinctPlayersHardcore),this.richPresencePatch=e.RichPresencePatch;for(let t=0;t<e.Claims.length;t++)this.claims.push(new Claim_1.default(e.Claims[t]));Object.entries(e.Achievements).forEach(([t,i])=>{this.achievements.push(new GameAchievement_1$1.default(i))})}}GameExtended$1.default=GameExtended;var GameListItem$1={};Object.defineProperty(GameListItem$1,"__esModule",{value:!0});class GameListItem{constructor(e){if(this.hashes=[],this.id=Number(e.ID),this.title=e.Title,this.consoleID=Number(e.ConsoleID),this.consoleName=e.ConsoleName,this.imageIcon=e.ImageIcon,this.numAchievements=Number(e.NumAchievements),this.numLeaderboards=Number(e.NumLeaderboards),this.points=Number(e.Points),this.forumTopicId=Number(e.ForumTopicID),this.dateModified=new Date(e.DateModified),e.Hashes)for(let t=0;t<e.Hashes.length;t++)this.hashes.push(e.Hashes[t])}}GameListItem$1.default=GameListItem;var GameRankScoreItem$1={};Object.defineProperty(GameRankScoreItem$1,"__esModule",{value:!0});class GameRankScoreItem{constructor(e){this.user=e.User,this.totalScore=Number(e.TotalScore),this.lastAward=new Date(e.LastAward),this.rank=e.Rank?Number(e.Rank):Number(e.UserRank)}}GameRankScoreItem$1.default=GameRankScoreItem;var GameRating$1={};Object.defineProperty(GameRating$1,"__esModule",{value:!0});class GameRating{constructor(e){this.gameId=Number(e.GameID),this.ratings={game:Number(e.Ratings.Game),gameNumVotes:Number(e.Ratings.GameNumVotes),achievements:Number(e.Ratings.Achievements),achievementsNumVotes:Number(e.Ratings.AchievementsNumVotes)}}}GameRating$1.default=GameRating;var GameRecent$1={};Object.defineProperty(GameRecent$1,"__esModule",{value:!0});class GameRecent{constructor(e){this.id=Number(e.GameID),this.title=e.Title,this.consoleID=Number(e.ConsoleID),this.consoleName=e.ConsoleName,this.imageIcon=e.ImageIcon,this.NumPossibleAchievements=Number(e.NumPossibleAchievements),this.PossibleScore=Number(e.PossibleScore),this.lastPlayed=new Date(e.LastPlayed),this.MyVote=Number(e.MyVote),this.NumAchieved=Number(e.NumAchieved),this.ScoreAchieved=Number(e.ScoreAchieved),this.NumAchievedHardcore=Number(e.NumAchievedHardcore),this.ScoreAchievedHardcore=Number(e.ScoreAchievedHardcore)}}GameRecent$1.default=GameRecent;var GameUserProgress$1={},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(GameUserProgress$1,"__esModule",{value:!0});const Game_1$1=__importDefault$4(Game$1),GameAchievement_1=__importDefault$4(GameAchievement$1);class GameUserProgress extends Game_1$1.default{constructor(e){super(e),this.achievements=[],this.gameTitle=this.title,this.isFinal=Boolean(e.IsFinal),this.numAchievements=Number(e.NumAchievements),this.numDistinctPlayersCasual=Number(e.NumDistinctPlayersCasual),this.numDistinctPlayersHardcore=Number(e.NumDistinctPlayersHardcore),this.richPresencePatch=e.RichPresencePatch,e.Achievements&&Object.entries(e.Achievements).forEach(([t,i])=>{this.achievements.push(new GameAchievement_1.default(i))}),this.numAwardedToUser=Number(e.NumAwardedToUser),this.numAwardedToUserHardcore=Number(e.NumAwardedToUserHardcore),this.userCompletion=e.UserCompletion?Number(e.UserCompletion.replace("%","")):0,this.userCompletionHardcore=e.UserCompletion?Number(e.UserCompletionHardcore.replace("%","")):0}}GameUserProgress$1.default=GameUserProgress;var UserAchievement$1={},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(UserAchievement$1,"__esModule",{value:!0});const Achievement_1=__importDefault$3(Achievement$1);class UserAchievement extends Achievement_1.default{constructor(e){e.ID=e.AchievementID,super(e),this.badgeName=e.BadgeName,this.badgeUrl=e.BadgeURL,this.consoleName=e.ConsoleName,this.cumulativeScore=Number(e.CumulScore),this.date=new Date(e.CumulScore),this.gameIcon=e.GameIcon,this.gameId=Number(e.GameID),this.gameTitle=e.GameTitle,this.gameUrl=e.GameURL,this.hardcoreMode=Boolean(Number(e.HardcoreMode))}}UserAchievement$1.default=UserAchievement;var UserProgress$1={};Object.defineProperty(UserProgress$1,"__esModule",{value:!0});class UserProgress{constructor(e,t){this.id=e,this.numPossibleAchievements=Number(t.NumPossibleAchievements),this.possibleScore=Number(t.PossibleScore),this.numAchieved=Number(t.NumAchieved),this.scoreAchieved=Number(t.ScoreAchieved),this.numAchievedHardcore=Number(t.NumAchievedHardcore),this.scoreAchievedHardcore=Number(t.ScoreAchievedHardcore)}}UserProgress$1.default=UserProgress;var UserRankAndScore$1={};Object.defineProperty(UserRankAndScore$1,"__esModule",{value:!0});class UserRankAndScore{constructor(e){this.score=Number(e.Score),this.softcoreScore=Number(e.SoftcoreScore),this.rank=Number(e.Rank),this.totalRanked=Number(e.TotalRanked)}}UserRankAndScore$1.default=UserRankAndScore;var UserSummary$1={},GameRecentPlayed$1={};Object.defineProperty(GameRecentPlayed$1,"__esModule",{value:!0});class GameRecentPlayed{constructor(e){this.id=Number(e.GameID),this.title=e.Title,this.consoleId=Number(e.ConsoleID),this.consoleName=e.ConsoleName,this.imageIcon=e.ImageIcon,this.lastPlayed=new Date(e.LastPlayed),this.myVote=Number(e.MyVote)}}GameRecentPlayed$1.default=GameRecentPlayed;var Activity$1={};Object.defineProperty(Activity$1,"__esModule",{value:!0});class Activity{constructor(e){this.id=Number(e.ID),this.timestamp=new Date(e.timestamp),this.lastUpdate=new Date(e.lastupdate),this.activityType=Number(e.activitytype),this.user=e.User,this.data=String(e.data),this.data2=String(e.data2)}}Activity$1.default=Activity;var AchievementRecent$1={};Object.defineProperty(AchievementRecent$1,"__esModule",{value:!0});class AchievementRecent{constructor(e){this.isAwarded=1,this.hardcoreAchieved=0,this.id=Number(e.ID),this.gameId=Number(e.GameID),this.gameTitle=e.GameTitle,this.badgeName=e.BadgeName,this.title=e.Title,this.description=e.Description,this.points=Number(e.Points),this.dateAwarded=new Date(e.DateAwarded)}}AchievementRecent$1.default=AchievementRecent;var GameLast$1={};Object.defineProperty(GameLast$1,"__esModule",{value:!0});class GameLast{constructor(e){this.flags=0,this.id=Number(e.ID),this.title=e.Title,this.consoleId=Number(e.ConsoleID),this.consoleName=e.ConsoleName,this.forumTopicId=Number(e.ForumTopicID),this.imageIcon=e.ImageIcon,this.imageTitle=e.ImageTitle,this.imageInGame=e.ImageIngame,this.imageBoxArt=e.ImageBoxArt,this.publisher=e.Publisher,this.developer=e.Developer,this.genre=e.Genre,this.released=new Date(e.Released),this.isFinal=Boolean(e.IsFinal),this.richPresencePatch=e.RichPresencePatch}}GameLast$1.default=GameLast;var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(UserSummary$1,"__esModule",{value:!0});const GameRecentPlayed_1=__importDefault$2(GameRecentPlayed$1),Activity_1=__importDefault$2(Activity$1),UserProgress_1$1=__importDefault$2(UserProgress$1),AchievementRecent_1=__importDefault$2(AchievementRecent$1),GameLast_1=__importDefault$2(GameLast$1);class UserSummary{constructor(e){this.recentlyPlayed=[],this.awarded=[],this.recentAchievements=[],this.id=Number(e.ID),this.totalPoints=Number(e.TotalPoints),this.totalSoftcorePoints=Number(e.TotalSoftcorePoints),this.totalTruePoints=Number(e.TotalTruePoints),this.permissions=Number(e.Permissions),this.memberSince=new Date(e.MemberSince),this.rank=Number(e.Rank),this.untracked=Boolean(Number(e.Untracked)),this.userPic=e.UserPic,this.motto=e.Motto,this.userWallActive=Boolean(Number(e.UserWallActive)),this.totalRanked=Number(e.TotalRanked),this.lastGameID=Number(e.LastGameID),this.lastGame=new GameLast_1.default(e.LastGame),this.richPresenceMsg=e.RichPresenceMsg,this.recentlyPlayedCount=Number(e.RecentlyPlayedCount),Object.entries(e.RecentlyPlayed).forEach(([t,i])=>{this.recentlyPlayed.push(new GameRecentPlayed_1.default(i))}),this.lastActivity=new Activity_1.default(e.LastActivity),this.status=e.Status,Object.entries(e.Awarded).forEach(([t,i])=>{this.awarded.push(new UserProgress_1$1.default(Number(t),i))}),Object.entries(e.RecentAchievements).forEach(([t,i])=>{Object.entries(i).forEach(([s,a])=>{this.recentAchievements.push(new AchievementRecent_1.default(a))})}),this.contribCount=Number(e.ContribCount),this.contribYield=Number(e.ContribYield)}}UserSummary$1.default=UserSummary;var UserTopTen$1={};Object.defineProperty(UserTopTen$1,"__esModule",{value:!0});class UserTopTen{constructor(e){this.name=e[1],this.points=Number(e[2]),this.retroRatio=Number(e[3])}}UserTopTen$1.default=UserTopTen;var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,s)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&__createBinding(e,r,t);return __setModuleDefault(e,r),e},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(r,e,t,i){function s(a){return a instanceof t?a:new t(function(n){n(a)})}return new(t||(t=Promise))(function(a,n){function o(u){try{c(i.next(u))}catch(m){n(m)}}function l(u){try{c(i.throw(u))}catch(m){n(m)}}function c(u){u.done?a(u.value):s(u.value).then(o,l)}c((i=i.apply(r,e||[])).next())})},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Client$2,"__esModule",{value:!0});const HtmlParser_1=__importDefault$1(HtmlParser$1),AchievementCount_1=__importDefault$1(AchievementCount$1),AchievementDistribution_1=__importStar(AchievementDistribution),AchievementOfTheWeek_1=__importDefault$1(AchievementOfTheWeek$1),AchievementUnlocks_1=__importDefault$1(AchievementUnlocks$1),ActiveClaim_1=__importDefault$1(ActiveClaim$1),Console_1=__importDefault$1(Console$1),Game_1=__importDefault$1(Game$1),GameCompleted_1=__importDefault$1(GameCompleted$1),GameExtended_1=__importDefault$1(GameExtended$1),GameListItem_1=__importDefault$1(GameListItem$1),GameRankScoreItem_1=__importDefault$1(GameRankScoreItem$1),GameRating_1=__importDefault$1(GameRating$1),GameRecent_1=__importDefault$1(GameRecent$1),GameUserProgress_1=__importDefault$1(GameUserProgress$1),UserAchievement_1=__importDefault$1(UserAchievement$1),UserProgress_1=__importDefault$1(UserProgress$1),UserRankAndScore_1=__importDefault$1(UserRankAndScore$1),UserSummary_1=__importDefault$1(UserSummary$1),UserTopTen_1=__importDefault$1(UserTopTen$1),browser_or_node_1=lib;class Client$1{constructor(e,t,i="https://corsproxy.io/?"){this._baseUrl="https://retroachievements.org",this._pathnamePrefix="API/API_Get",this._pathnameSuffix=".php",this._userName=e,this._webApiKey=t,this._corsProxy=browser_or_node_1.isBrowser?i:""}_buildUrl(e,t){const i=new URL(`${this._pathnamePrefix}${e}${this._pathnameSuffix}`,this._baseUrl);return i.searchParams.set("y",this._webApiKey),t&&Object.keys(t).length!==0&&Object.entries(t).forEach(([s,a])=>{i.searchParams.set(s,a)}),i.toString()}_requestApi(e){return __awaiter(this,void 0,void 0,function*(){try{const t=yield fetch(e);if(t.status>399)throw new Error(`Invalid request, please check your parameters - ${t.status}`);return yield t.json()}catch(t){throw new Error(String(t))}})}isCredentialsValid(){return __awaiter(this,void 0,void 0,function*(){let e={valid:!0,message:""};try{yield this.getUserSummary()}catch(t){e.valid=!1;const i=Number(String(t).split("- ")[1]);i===401&&(e.message="Invalid Web API Key"),i===404&&(e.message="Invalid Username")}return e})}getGame(e){return __awaiter(this,void 0,void 0,function*(){const t=this._buildUrl("Game",{i:e}),i=yield this._requestApi(t);return new Game_1.default(i)})}getGameExtended(e){return __awaiter(this,void 0,void 0,function*(){const t=this._buildUrl("GameExtended",{i:e}),i=yield this._requestApi(t);return new GameExtended_1.default(i)})}getAchievementCount(e){return __awaiter(this,void 0,void 0,function*(){const t=this._buildUrl("AchievementCount",{i:e}),i=yield this._requestApi(t);return new AchievementCount_1.default(i)})}getAchievementDistribution(e,t,i){return __awaiter(this,void 0,void 0,function*(){t=t||AchievementDistribution_1.TYPE_FILTER.ALL,i=i||AchievementDistribution_1.FLAG_FILTER.CORE_ACHIEVEMENTS;const s=this._buildUrl("AchievementDistribution",{i:e,h:t,f:i}),a=yield this._requestApi(s);return new AchievementDistribution_1.default(a)})}getAchievementOfTheWeek(){return __awaiter(this,void 0,void 0,function*(){const e=this._buildUrl("AchievementOfTheWeek"),t=yield this._requestApi(e);return new AchievementOfTheWeek_1.default(t)})}getAchievementUnlocks(e,t=0,i=50){return __awaiter(this,void 0,void 0,function*(){const s=this._buildUrl("AchievementUnlocks",{a:e,o:t,c:i}),a=yield this._requestApi(s);return new AchievementUnlocks_1.default(a)})}getAchievementsEarnedBetween(e,t,i){return __awaiter(this,void 0,void 0,function*(){i=i||this._userName;const s=this._buildUrl("AchievementsEarnedBetween",{u:i,f:e,t}),a=yield this._requestApi(s);let n=[];for(let o=0;o<a.length;o++)n.push(new UserAchievement_1.default(a[o]));return n})}getAchievementsEarnedOnDay(e,t){return __awaiter(this,void 0,void 0,function*(){t=t||this._userName;const i=this._buildUrl("AchievementsEarnedOnDay",{u:t,d:e}),s=yield this._requestApi(i);let a=[];for(let n=0;n<s.length;n++)a.push(new UserAchievement_1.default(s[n]));return a})}getActiveClaims(){return __awaiter(this,void 0,void 0,function*(){const e=this._buildUrl("ActiveClaims"),t=yield this._requestApi(e);let i=[];for(let s=0;s<t.length;s++)i.push(new ActiveClaim_1.default(t[s]));return i})}getUserClaims(){return __awaiter(this,void 0,void 0,function*(){const e=this._buildUrl("UserClaims"),t=yield this._requestApi(e);let i=[];for(let s=0;s<t.length;s++)i.push(new ActiveClaim_1.default(t[s]));return i})}getGetConsoleIDs(){return __awaiter(this,void 0,void 0,function*(){const e=this._buildUrl("ConsoleIDs"),t=yield this._requestApi(e);let i=[];for(let s=0;s<t.length;s++)i.push(new Console_1.default(t[s]));return i})}getGameUserProgress(e,t){return __awaiter(this,void 0,void 0,function*(){const i=t||this._userName,s=this._buildUrl("GameInfoAndUserProgress",{g:e,u:i}),a=yield this._requestApi(s);return new GameUserProgress_1.default(a)})}getGameList(e,t=0,i=0){return __awaiter(this,void 0,void 0,function*(){const s=this._buildUrl("GameList",{i:e,f:t,h:i}),a=yield this._requestApi(s);let n=[];for(let o=0;o<a.length;o++)n.push(new GameListItem_1.default(a[o]));return n})}getGameRankScore(e,t=0){return __awaiter(this,void 0,void 0,function*(){const i=this._buildUrl("GameRankAndScore",{g:e,t}),s=yield this._requestApi(i);let a=[];for(let n=0;n<s.length;n++)a.push(new GameRankScoreItem_1.default(s[n]));return a})}getGameRating(e){return __awaiter(this,void 0,void 0,function*(){const t=this._buildUrl("GameRating",{i:e}),i=yield this._requestApi(t);return new GameRating_1.default(i)})}getTopTenUsers(){return __awaiter(this,void 0,void 0,function*(){const e=this._buildUrl("TopTenUsers"),t=yield this._requestApi(e);let i=[];for(let s=0;s<t.length;s++)i.push(new UserTopTen_1.default(t[s]));return i})}getUserCompletedGames(e){return __awaiter(this,void 0,void 0,function*(){const t=e||this._userName,i=this._buildUrl("UserCompletedGames",{u:t}),s=yield this._requestApi(i);let a=[];for(let n=0;n<s.length;n++)a.push(new GameCompleted_1.default(s[n]));return a})}getUserGameRankAndScore(e,t){return __awaiter(this,void 0,void 0,function*(){const i=t||this._userName,s=this._buildUrl("UserGameRankAndScore",{g:e,u:i}),a=yield this._requestApi(s);let n=[];for(let o=0;o<a.length;o++)n.push(new GameRankScoreItem_1.default(a[o]));return n})}getUserProgress(e,t){return __awaiter(this,void 0,void 0,function*(){const i=t||this._userName,s=this._buildUrl("UserProgress",{i:e.join(","),u:i}),a=yield this._requestApi(s);let n=[];return Object.entries(a).forEach(([o,l])=>{n.push(new UserProgress_1.default(Number(o),l))}),n})}getUserRankAndScore(e){return __awaiter(this,void 0,void 0,function*(){const t=e||this._userName,i=this._buildUrl("UserRankAndScore",{u:t}),s=yield this._requestApi(i);return new UserRankAndScore_1.default(s)})}getUserRecentlyPlayedGames(e,t=0,i=10){return __awaiter(this,void 0,void 0,function*(){const s=e||this._userName,a=this._buildUrl("UserRecentlyPlayedGames",{u:s,o:t,c:i}),n=yield this._requestApi(a);let o=[];for(let l=0;l<n.length;l++)o.push(new GameRecent_1.default(n[l]));return o})}getUserSummary(e,t=5,i=10){return __awaiter(this,void 0,void 0,function*(){const s=e||this._userName,a=this._buildUrl("UserSummary",{u:s,g:t,a:i}),n=yield this._requestApi(a);return new UserSummary_1.default(n)})}getAchievementComments(e){return __awaiter(this,void 0,void 0,function*(){const i=yield(yield fetch(`${this._corsProxy}${this._baseUrl}/achievement/${e}`)).text();return HtmlParser_1.default.parsePageComments(i)})}getGameComments(e){return __awaiter(this,void 0,void 0,function*(){const i=yield(yield fetch(`${this._corsProxy}${this._baseUrl}/game/${e}`)).text();return HtmlParser_1.default.parsePageComments(i)})}}Client$2.default=Client$1;Client$1.MEDIA_URL="https://media.retroachievements.org";Client$1.USER_MEDIA_URL=`${Client$1.MEDIA_URL}/UserPic`;Client$1.BADGE_MEDIA_URL="https://s3-eu-west-1.amazonaws.com/i.retroachievements.org/Badge";var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dist,"__esModule",{value:!0});var Client=dist.Client=void 0;const Client_1=__importDefault(Client$2);Client=dist.Client=Client_1.default;export{Client as C,commonjsGlobal as c};
